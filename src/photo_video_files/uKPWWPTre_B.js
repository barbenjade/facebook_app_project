if (self.CavalryLogger) { CavalryLogger.start_js(["PNPNY"]); }

__d("EventDescription.react",["cx","fbt","BoostedComponentErrorBoundaryContainer.react","BoostedComponentRef","BoostedPostFamilyDialogButtonWrapper.react","DateBlock.react","Event","EventActionContextHelper","EventsActionsLogger","EventWatchStatus","ExpandableText.react","FBJSON","ImageBlock.react","Keys","Link.react","LogicalGridCell.react","LogicalGridCellFocusStrategy","Middot.react","PublicEventWatchStatusSelector.react","React","XEventsPermalinkController","XUIText.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=b("Event").getKeyCode,k=225;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a,c){i.constructor.call(this,a,c),this.state={viewerWatchStatus:a.eventInfo.viewer_watch_status?a.eventInfo.viewer_watch_status:b("EventWatchStatus").UNWATCHED}}a.prototype.render=function(){var event={id:this.props.eventInfo.id,viewer_watch_status:this.state.viewerWatchStatus},a=b("EventActionContextHelper").getActionHistoryJSON(this.props.actionContext),c=null;this.props.eventInfo.isEligibleForBoost&&this.props.eventInfo.buttonData?c=this.$2():c=b("React").createElement(b("PublicEventWatchStatusSelector.react"),{className:"_3j4t",event:event,actionHistory:a,actionCallback:this.$3.bind(this),pageID:this.props.pageID,canViewerJoin:this.props.eventInfo.canViewerJoin});a=this.props.tourFormat?this.props.eventInfo.location:this.props.eventInfo.title;var d=this.props.eventInfo.location===""?b("React").createElement(b("XUIText.react"),{className:"_3j4r",display:"block"},this.props.eventInfo.dateAndTime):b("React").createElement(b("XUIText.react"),{className:"_3j4r",display:"block"},this.props.eventInfo.dateAndTime,b("React").createElement(b("Middot.react"),null),this.props.eventInfo.location);this.props.tourFormat&&(d=b("React").createElement(b("XUIText.react"),{className:"_3j4r",display:"block"},this.props.eventInfo.dateAndTime));return b("React").createElement("div",null,b("React").createElement(b("ImageBlock.react"),{className:"_3j4o"},b("React").createElement("div",{className:"_3j4p"},b("React").createElement(b("DateBlock.react"),{day:this.props.eventInfo.day,month:this.props.eventInfo.month})),b("React").createElement("div",{className:"_3j4q"},b("React").createElement(b("LogicalGridCell.react"),{columnIndex:0,component:b("React").createElement("div",null)},b("React").createElement(b("Link.react"),{className:"_7ty",href:this.$4()},a)),b("React").createElement(b("LogicalGridCell.react"),{columnIndex:1,component:b("React").createElement("div",null),focusStrategy:b("LogicalGridCellFocusStrategy")},d,b("React").createElement(b("XUIText.react"),{className:"_7u2",display:"block"},this.props.eventInfo.socialContext))),b("React").createElement(b("LogicalGridCell.react"),{className:"_3j4s",columnIndex:2,component:b("React").createElement("div",null)},c)),this.$5())};a.prototype.$2=function(){var a=this.props.eventInfo.buttonData;return b("React").createElement(b("LogicalGridCell.react"),{columnIndex:2,component:b("React").createElement("div",null)},b("React").createElement(b("BoostedComponentErrorBoundaryContainer.react"),{sectionName:"BoostedPostFamilyDialogButtonWrapper"},b("React").createElement(b("BoostedPostFamilyDialogButtonWrapper.react"),{data:a,placement:b("BoostedComponentRef").WWW_PAGES_TIMELINE_UPCOMING_EVENTS_SECTION})))};a.prototype.$4=function(){return b("XEventsPermalinkController").getURIBuilder().setInt("event_id",this.props.eventInfo.id).setString("acontext",this.props.actionContext).getURI()};a.prototype.$3=function(a,c){if(a||!c)return;a=c.event_update_extended_viewer_watch_status;if(!a||!a.event||!a.event.viewer_watch_status)return;b("EventsActionsLogger").log(""+this.props.eventInfo.id,{type:b("EventsActionsLogger").Type.CLICK,target:b("EventsActionsLogger").Target.INTERESTED_EVENT_BUTTON,acontext:b("FBJSON").parse(this.props.actionContext)},{suggestion_tracking_info:this.props.trackingData});this.setState({viewerWatchStatus:a.event.viewer_watch_status})};a.prototype.$6=function(event){var a=j(event);a===b("Keys").RETURN&&this.$1&&this.$1.toggleMore()};a.prototype.$5=function(){var a=this.props.eventInfo.description;if(!a)return null;var c=b("React").createElement("div",{className:"_7tw",onKeyDown:this.$6.bind(this),role:"button"});return b("React").createElement(b("LogicalGridCell.react"),{columnIndex:3,component:c,focusStrategy:b("LogicalGridCellFocusStrategy")},b("React").createElement(b("ExpandableText.react"),{cutoff:k,text:a,grow:1e3,penalizeNewLine:!0,ref:function(a){return this.$1=a}.bind(this),seeMoreText:h._("See More"),seeLessText:h._("See Less")}))};e.exports=a}),null);
__d("UpcomingEventsCard.react",["cx","fbt","BackgroundImage.react","EventDescription.react","EventsActionsLogger","EventsCalendarIcon","FBJSON","Link.react","LogicalGridRow.react","React","XEventCreateDialogController","XEventsPermalinkController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i=500,j=i/1.9,k=100;a=b("React").PropTypes;c=b("React").createClass({displayName:"UpcomingEventsCard",propTypes:{eventList:a.arrayOf(a.object),actionContext:a.string.isRequired,pageID:a.string.isRequired,tourID:a.string},componentDidMount:function(){b("EventsActionsLogger").log(null,{type:b("EventsActionsLogger").Type.LOAD,target:b("EventsActionsLogger").Target.PAGE_UPCOMING_EVENTS_CARD,acontext:b("FBJSON").parse(this.props.actionContext)},{tour_id:this.props.tourID})},getInitialState:function(){var a={};for(var b=0,c=this.props.eventList.length;b<c;b++)a[this.props.eventList[b].id]=this.props.eventList[b].viewer_watch_status;a.selectEvent=0;return a},render:function(){if(this.props.eventList.length===0)return this._getNullStateCard();var a=this.props.eventList.map(function(a,c){return b("React").createElement(b("LogicalGridRow.react"),{component:b("React").createElement("div",{onMouseOver:this._getChangeCoverPhoto.bind(this,c),className:"_4r_1"}),key:a.id,rowIndex:c},b("React").createElement(b("EventDescription.react"),{actionContext:this.props.actionContext,eventInfo:a,pageID:this.props.pageID,tourFormat:this.props.tourID!==undefined}))}.bind(this)),c=this.props.eventList[this.state.selectEvent].coverPhoto,d=null;!this.props.tourID&&c.uri&&(d=b("React").createElement(b("Link.react"),{href:this._getEventPermalinkURI()},b("React").createElement("div",null,b("React").createElement(b("BackgroundImage.react"),{height:j,src:c.uri,width:i,backgroundSize:"cover"}))));return b("React").createElement("div",null,d,a)},_getChangeCoverPhoto:function(a){!this.props.tourID&&this.state.selectEvent!==a&&this.setState({selectEvent:a})},_getEventPermalinkURI:function(){return b("XEventsPermalinkController").getURIBuilder().setInt("event_id",this.props.eventList[this.state.selectEvent].id).setString("acontext",this.props.actionContext).getURI()},_getNullStateCard:function(){var a=b("XEventCreateDialogController").getURIBuilder().setInt("page_id",this.props.pageID).setString("acontext",this.props.actionContext).getURI();return b("React").createElement("div",{className:"_4r_2"},b("React").createElement("div",{className:"_4r_3"},b("React").createElement(b("BackgroundImage.react"),{height:k,src:b("EventsCalendarIcon").url,width:k,backgroundSize:"contain"})),b("React").createElement("div",{className:"_4r_4"},h._("No upcoming events")),b("React").createElement("div",{className:"_4r_5"},h._("Make it easy for people to find your next event. Create it on Facebook."),b("React").createElement(b("Link.react"),{className:"_4wcp",href:a,rel:"dialog-post",target:"_blank"},h._("Create Event"))))}});e.exports=c}),null);